<div id="report-designer" class="container">

  <!-- <span> -->
  <!--   <select ng-model="reportType" ng-options="type.name for type in reportTypes"></select> -->
  <!--   <ng-switch on="reportType.type"> -->
  <!--     <span ng-switch-when="new">A new one</span> -->
  <!--     <span ng-switch-when="current">Current seach</span> -->
  <!--     <span ng-switch-when="domain">Domain</span> -->
  <!--   </ng-switch> -->
  <!-- </span> -->

  <div class="panel domain-box">
    <div class="panel-heading">Select a domain</div>
    <div class="panel-body">
      <div class="row">
        <div class="col-lg-2">
          <select ng-model="resource" 
                  ng-options="domain.resource as domain.label for domain in domains | orderBy:domain.sort"
                  class="form-control"></select>
        </div> <!-- .col -->
      </div> <!-- .row -->
    </div> <!-- .panel-body -->
  </div><!-- .panel -->
  

  <div class="panel filters-box">
    <div class="panel-heading">Filters</div>
    <div class="panel-body">
      <div class="filters-row form-horizontal" ng-repeat="filter in filters">
        <!-- <input ui-select2="fieldSelectOptions" ng-model="field"/> -->
        <div class="form-group">
          <div class="col-lg-2">
            <div schema-menu class="filter-schema-menu" 
                 style="display: inline" resource="resource"></div>
          </div>
          
          <div class="col-lg-1">
            <select ng-model="filters[$index].operator" class="form-control"
                    ng-options="key for (key, value) in operators"></select>
            <!-- <select ng-options="= +">Operator</select> -->
          </div>
          <div class="col-lg-4">
            <input ng-model="filters[$index].value" type="text" 
                   class="form-control"></input> <!-- type depending on field type -->
          </div>
        </div> <!-- .form-group -->
      </div> <!-- .filters-row .form-horizontal -->
      <button type="button" class="btn" ng-click="addFilterField()">Add</button>
    </div><!-- .panel-body -->
  </div> <!-- panel -->

  <div class="report-box">

    <div>
      <h4>Fields</h4>
      <div schema-menu scalars-only='true' class="fields-schema-menu" 
           resource="resource"></div>
      <button type="button" class="btn" ng-disabled="!resource" 
              ng-click="addTableColumn()">Add</button>
    </div>

  </div>

  <div>
    <button type="button" class="btn" ng-click="refreshTable()">Refresh</button>
  </div>

  <table class="report-table">
    <thead></thead>
    <th class="report-table-header" ng-repeat="column in tableColumns">{{column.header}}</th>
    <tbody>
      <tr class="report-table-row" ng-repeat="row in tableData">
        <td class="report-table-cell" 
            ng-repeat="column in tableColumns">{{row[column.name]}}</td>
      </tr>
    </tbody>
  </table>

</div>
